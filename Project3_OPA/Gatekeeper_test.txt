kubectl apply -f deny-bad-ns-template.yaml
kubectl apply -f deny-bad-ns-constraint.yaml


kubectl create namespace bad


You should see
Error from server (Forbidden): ... namespace name 'bad' is not allowed

Clean up 

kubectl delete constraint deny-bad-namespace
kubectl delete constrainttemplate k8sdenybaddemo

Common install gotchas (quick)
If webhook blocks everything (rare, but scary)

Check Gatekeeper pods/logs:

kubectl -n gatekeeper-system get pods
kubectl -n gatekeeper-system logs deploy/gatekeeper-controller-manager --tail=200

If Helm install fails due to permissions
Make sure youâ€™re cluster-admin for the lab cluster:

kubectl auth can-i create validatingwebhookconfigurations.admissionregistration.k8s.io
kubectl auth can-i create customresourcedefinitions.apiextensions.k8s.io

